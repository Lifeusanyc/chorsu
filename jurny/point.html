<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Qoidabuzarliklar jadvali</title>
<style>
  table {
    border-collapse: collapse;
    width: 100%;
    max-width: 900px;
    margin: 20px auto;
    font-family: Arial, sans-serif;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 8px 12px;
    text-align: left;
  }
  th {
    background: #f0f0f0;
    cursor: pointer;
    user-select: none;
  }
  th.sort-asc::after {
    content: " ▲";
  }
  th.sort-desc::after {
    content: " ▼";
  }
</style>
</head>
<body>

<table id="violationTable">
  <thead>
    <tr>
      <th>№</th>
      <th>Qoidabuzarlik turi (O'zbek)</th>
      <th>Violation Type (English)</th>
      <th id="pointsHeader">Ballar (Points)</th>
      <th>Taxminiy Jarima (USD)</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>1</td><td>Tezlikni oshirish</td><td>Speeding</td><td>3–11</td><td>$150 – $600+</td></tr>
    <tr><td>2</td><td>Qizil chiroqda o‘tish</td><td>Running Red Light</td><td>3</td><td>$200 – $300</td></tr>
    <tr><td>3</td><td>Harakat yo‘llarini noto‘g‘ri kesib o‘tish</td><td>Improper Lane Change</td><td>3</td><td>$115</td></tr>
    <tr><td>4</td><td>To‘xtash belgisida to‘xtamaslik</td><td>Failure to Stop at Stop Sign</td><td>3</td><td>$115</td></tr>
    <tr><td>5</td><td>Yo‘l berish qoidalarini buzish</td><td>Failure to Yield Right of Way</td><td>3</td><td>$115 – $250</td></tr>
    <tr><td>6</td><td>Xavfsizlik kamaridan foydalanmaslik</td><td>Failure to Use Seat Belt</td><td>0</td><td>$50 – $100</td></tr>
    <tr><td>7</td><td>Bolalar uchun xavfsizlik kamarini ishlatmaslik</td><td>Failure to Use Child Safety Seat</td><td>2</td><td>$100 – $300</td></tr>
    <tr><td>8</td><td>O‘ngga/yugurishga burilishdan oldin signal bermaslik</td><td>Failure to Signal Before Turning</td><td>0–3</td><td>$50 – $115</td></tr>
    <tr><td>9</td><td>Piyodalarga yo‘l bermaslik</td><td>Failure to Yield Right of Way to Pedestrians</td><td>2</td><td>$50 – $250</td></tr>
    <tr><td>10</td><td>Haydovchilikda mast holatda bo‘lish</td><td>Driving Under Influence</td><td>5+</td><td>$500 – $10,000+</td></tr>
    <tr><td>11</td><td>Qoidalarga zid ravishda burilish</td><td>Illegal Turn</td><td>3</td><td>$115</td></tr>
    <tr><td>12</td><td>Yo‘l qoidalarini takroran buzish</td><td>Reckless Driving</td><td>5+</td><td>$500 – $2000+</td></tr>
    <tr><td>13</td><td>Yaqin masofani buzish</td><td>Following Too Closely</td><td>3</td><td>$115 – $300</td></tr>
    <tr><td>14</td><td>Haydovchilik huquqi bekor qilingan holatda haydash</td><td>Driving with Suspended License</td><td>5</td><td>$500 – $1000</td></tr>
    <tr><td>15</td><td>To‘xtab turish joyida qoidalarni buzish</td><td>Illegal Parking</td><td>0</td><td>$65 – $115</td></tr>
    <tr><td>16</td><td>Noto‘g‘ri o‘ng yo‘nalish</td><td>Driving the Wrong Way</td><td>5</td><td>$200 – $500</td></tr>
    <tr><td>17</td><td>Yo‘l chizig‘ini noto‘g‘ri kesib o‘tish</td><td>Improper Lane Usage</td><td>2</td><td>$50 – $115</td></tr>
    <tr><td>18</td><td>Haydovchilik guvohnomasini ko‘rsatmaslik</td><td>Failure to Show License</td><td>0</td><td>$50 – $100</td></tr>
    <tr><td>19</td><td>Haydovchilik paytida telefon bilan gaplashish</td><td>Distracted Driving</td><td>0</td><td>$50 – $200</td></tr>
    <tr><td>20</td><td>Yo‘l harakati qoidalarini buzib yurgan piyodalarga yo‘l bermaslik</td><td>Failure to Yield to Pedestrians</td><td>2</td><td>$50 – $250</td></tr>
    <tr><td>21</td><td>Tezlikni haddan tashqari oshirish</td><td>Excessive Speeding</td><td>5–11</td><td>$300 – $1000+</td></tr>
    <tr><td>22</td><td>Trafik belgisiz hududda to‘xtash</td><td>Stopping in No Stopping Zone</td><td>0</td><td>$115</td></tr>
    <tr><td>23</td><td>Transport vositasini avtobus to‘xtash joyida to‘xtatish</td><td>Illegal Parking at Bus Stop</td><td>0</td><td>$115</td></tr>
    <tr><td>24</td><td>Chiroqni noto‘g‘ri yoqish</td><td>Improper Use of Headlights</td><td>0</td><td>$50 – $115</td></tr>
    <tr><td>25</td><td>Yo‘l chizig‘ini kesib o‘tish</td><td>Crossing Double Lines</td><td>3</td><td>$115</td></tr>
    <tr><td>26</td><td>Yo‘lga piyodalarni o‘tkazmaslik</td><td>Failure to Yield to Pedestrian</td><td>3</td><td>$115 – $250</td></tr>
    <tr><td>27</td><td>Transport vositasining texnik holatini buzish</td><td>Defective Vehicle Equipment</td><td>0</td><td>$50 – $200</td></tr>
    <tr><td>28</td><td>Ogohlantirish belgisiz o‘ngga burilish</td><td>Illegal Right Turn on Red</td><td>3</td><td>$115</td></tr>
    <tr><td>29</td><td>To‘xtash joyida tezlikni oshirish</td><td>Speeding in Parking Lot</td><td>3</td><td>$115</td></tr>
    <tr><td>30</td><td>Transport vositasini qoidabuzarlik joyida qoldirish</td><td>Abandoned Vehicle</td><td>0</td><td>$115 – $200</td></tr>
  </tbody>
</table>

<script>
  const table = document.getElementById('violationTable');
  const pointsHeader = document.getElementById('pointsHeader');
  let asc = true;

  function parsePoints(pointsStr) {
    // Convert strings like '3–11', '5+', '0–3', '3' to a single numeric value for sorting
    // We'll take the minimum value for sorting purpose
    if (!pointsStr) return 0;
    pointsStr = pointsStr.trim();
    if (pointsStr.includes('–')) {
      // Range: take minimum part
      return parseFloat(pointsStr.split('–')[0]) || 0;
    }
    if (pointsStr.endsWith('+')) {
      return parseFloat(pointsStr.slice(0, -1)) || 0;
    }
    return parseFloat(pointsStr) || 0;
  }

  pointsHeader.addEventListener('click', () => {
    const tbody = table.tBodies[0];
    const rows = Array.from(tbody.rows);

    rows.sort((a, b) => {
      const aPoints = parsePoints(a.cells[3].textContent);
      const bPoints = parsePoints(b.cells[3].textContent);
      return asc ? aPoints - bPoints : bPoints - aPoints;
    });

    // Remove existing rows
    while(tbody.firstChild) {
      tbody.removeChild(tbody.firstChild);
    }

    // Append sorted rows
    rows.forEach(row => tbody.appendChild(row));

    // Toggle sort direction
    asc = !asc;

    // Update header arrow indicators
    pointsHeader.classList.toggle('sort-asc', !asc);
    pointsHeader.classList.toggle('sort-desc', asc);
  });
</script>

</body>
</html>
