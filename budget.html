<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Balance Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f4f4f9;
        }
        #balance {
            font-size: 24px;
            font-weight: bold;
        }
        #minuteChange, #secondChange {
            font-size: 18px;
        }
        #changeHistory {
            margin-top: 20px;
            font-size: 16px;
            color: #555;
        }
        input[type="number"] {
            padding: 8px;
            font-size: 16px;
            width: 150px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>Real-time Balance Tracker</h1>

    <!-- Input field for the user to enter the hourly amount -->
    <label for="hourlyAmount">Soatiga kiritiladigan summa ($):</label>
    <input type="number" id="hourlyAmount" value="1000" min="0" step="1">

    <!-- Button to calculate the changes -->
    <button id="calculateButton">Hisoblash</button>

    <p id="balance">Joriy balans: $0.00</p>
    <p id="minuteChange">Har minutdagi o'zgarish: $0.00</p>
    <p id="secondChange">Har soniyadagi o'zgarish: $0.00</p>
    <p id="changeHistory">Oxirgi 10 o'zgarish: </p>

    <script>
        let changeHistory = []; // Oxirgi 10 o'zgarishlarni saqlash uchun massiv
        let currentBalance = 0; // Joriy balans
        let secondChange = 0; // Har soniyadagi o'zgarish
        let minuteChange = 0; // Har minutdagi o'zgarish

        // Hisoblash tugmasini bosganda ishlaydigan funksiya
        document.getElementById("calculateButton").addEventListener("click", function() {
            // Foydalanuvchi kiritgan soatlik summa
            let hourlyAmount = parseFloat(document.getElementById("hourlyAmount").value);

            // Hisoblash
            secondChange = hourlyAmount / 3600; // Soatiga 3600 soniya bor
            minuteChange = hourlyAmount / 60; // Soatiga 60 minut bor

            // Balansni har soniyada yangilash
            currentBalance = 0; // Har safar hisoblash tugmasi bosilganda balansni nolga o'rnatamiz
            changeHistory = []; // Oxirgi o'zgarishlarni tozalash

            // O'zgarishlarni yangilash
            updateBalance();
        });

        // O'zgarishlarni yangilash
        function updateBalance() {
            // Har soniyada balansni yangilash
            currentBalance += secondChange;

            // Oxirgi 10 o'zgarishlarni saqlash
            if (changeHistory.length >= 10) {
                changeHistory.shift(); // 10 ta o'zgarishdan eski eng kichigini olib tashlash
            }
            changeHistory.push(currentBalance.toFixed(2)); // Yangilangan balansni saqlash (ikkilik nuqtali formatda)

            // O'zgarishni ekranlashtirish
            document.getElementById("balance").innerText = `Joriy balans: $${currentBalance.toFixed(2)}`;
            document.getElementById("minuteChange").innerText = `Har minutdagi o'zgarish: $${minuteChange.toFixed(2)}`;
            document.getElementById("secondChange").innerText = `Har soniyadagi o'zgarish: $${secondChange.toFixed(2)}`;

            // Oxirgi 10 o'zgarishni ko'rsatish
            document.getElementById("changeHistory").innerText = "Oxirgi 10 o'zgarish: " + changeHistory.join(", ");
        }

        // Yangilanishni har 1 soniyada takrorlash
        setInterval(updateBalance, 1000); // Har 1 soniyada yangilanadi
    </script>
</body>
</html>
