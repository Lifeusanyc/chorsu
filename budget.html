<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Real-Time Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="p-6">
    <h1 class="text-3xl font-bold mb-4">YTD Real-Time Dashboard</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Sales Card -->
      <div class="bg-white rounded-2xl shadow p-4">
        <h2 class="text-xl font-semibold">Sales</h2>
        <p class="text-3xl font-bold" id="salesAmount">0</p>
        <p class="text-green-600">Target Achievement: <span id="salesTarget">0%</span></p>
      </div>
      <!-- Gross Profit Card -->
      <div class="bg-white rounded-2xl shadow p-4">
        <h2 class="text-xl font-semibold">Gross Profit</h2>
        <p class="text-3xl font-bold" id="grossProfit">0</p>
        <p class="text-green-600">Change YoY: <span id="grossYoY">0%</span></p>
      </div>
      <!-- Headcount Card -->
      <div class="bg-white rounded-2xl shadow p-4">
        <h2 class="text-xl font-semibold">Headcount</h2>
        <p class="text-3xl font-bold" id="headcount">0</p>
        <p class="text-blue-600">Change YoY: <span id="headcountChange">0</span></p>
      </div>
    </div>

    <!-- Charts -->
    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="bg-white rounded-2xl shadow p-4">
        <h3 class="text-lg font-semibold mb-2">Sales Over Time</h3>
        <canvas id="salesChart"></canvas>
      </div>
      <div class="bg-white rounded-2xl shadow p-4">
        <h3 class="text-lg font-semibold mb-2">Net Operating Cash Flow</h3>
        <canvas id="cashFlowChart"></canvas>
      </div>
    </div>
  </div>

  <script>
    // Initial Values
    let sales = 100000;
    let gross = 40000;
    let headcount = 120;

    // DOM Elements
    const salesEl = document.getElementById("salesAmount");
    const targetEl = document.getElementById("salesTarget");
    const grossEl = document.getElementById("grossProfit");
    const grossYoYEl = document.getElementById("grossYoY");
    const headEl = document.getElementById("headcount");
    const headChangeEl = document.getElementById("headcountChange");

    // Generate Random Change
    function getRandomDelta() {
      return Math.floor(Math.random() * 100 - 50);
    }

    // Update Dashboard Stats
    function updateStats() {
      sales += getRandomDelta();
      gross += getRandomDelta();
      headcount += Math.round(Math.random() * 2 - 1);

      salesEl.textContent = sales.toLocaleString();
      targetEl.textContent = (100 + Math.random() * 10).toFixed(1) + "%";

      grossEl.textContent = gross.toLocaleString();
      grossYoYEl.textContent = (5 + Math.random() * 5).toFixed(1) + "%";

      headEl.textContent = headcount;
      headChangeEl.textContent = Math.round(Math.random() * 10 - 5);
    }

    // Create Charts
    const salesChartCtx = document.getElementById("salesChart").getContext("2d");
    const cashFlowChartCtx = document.getElementById("cashFlowChart").getContext("2d");

    const salesChart = new Chart(salesChartCtx, {
      type: 'line',
      data: {
        labels: [...Array(10)].map((_, i) => `T-${10 - i}s`),
        datasets: [{
          label: 'Sales',
          borderColor: 'rgba(75, 192, 192, 1)',
          data: Array(10).fill(sales),
          fill: false,
        }]
      },
      options: { responsive: true }
    });

    const cashFlowChart = new Chart(cashFlowChartCtx, {
      type: 'bar',
      data: {
        labels: [...Array(6)].map((_, i) => `Month ${i + 1}`),
        datasets: [{
          label: 'Cash Flow',
          backgroundColor: 'rgba(153, 102, 255, 0.6)',
          data: Array(6).fill(0).map(() => Math.random() * 500 - 250)
        }]
      },
      options: { responsive: true }
    });

    // Update Charts
    function updateCharts() {
      salesChart.data.datasets[0].data.push(sales);
      salesChart.data.datasets[0].data.shift();
      salesChart.update();

      cashFlowChart.data.datasets[0].data = cashFlowChart.data.datasets[0].data.map(
        () => Math.random() * 500 - 250
      );
      cashFlowChart.update();
    }

    // Real-Time Loop
    setInterval(() => {
      updateStats();
      updateCharts();
    }, 1000);
  </script>
</body>
</html>
