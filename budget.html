<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>Balansni Real Vaqtda Kuzatish</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 40px;
      font-size: 20px;
    }
    #time {
      font-size: 28px;
      color: #2e86de;
    }
    #balans {
      font-size: 26px;
      font-weight: bold;
      color: #27ae60;
      margin-bottom: 20px;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-top: 30px;
    }
    li {
      font-size: 18px;
      margin: 4px 0;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>‚è± Real Vaqtda Balans Yozuvi</h1>
  <div id="time">Vaqt: </div>
  <div id="balans">Balans hisoblanmoqda...</div>

  <h3>üïò Oxirgi 10 ta o‚Äòzgarish</h3>
  <ul id="history"></ul>

  <script>
    const startDate = new Date("2023-04-04T00:00:00");
    const yearlyIncrease = 12000;
    const balancePerSecond = yearlyIncrease / (365.25 * 24 * 60 * 60); // Sekundiga

    let history = [];

    function formatFullDate(date) {
      return date.toLocaleDateString("uz-UZ") + " " + date.toLocaleTimeString("uz-UZ", { hour12: false });
    }

    function update() {
      const now = new Date();
      const elapsedSeconds = (now - startDate) / 1000;
      let currentBalance = Math.floor(balancePerSecond * elapsedSeconds);
      if (elapsedSeconds < 0) currentBalance = 0;

      // Vaqt va balansni chiqarish
      document.getElementById("time").textContent = "Vaqt: " + formatFullDate(now);
      document.getElementById("balans").textContent = "Balans: $" + currentBalance.toLocaleString();

      // Oxirgi 10 ta yozuv
      history.unshift(`${formatFullDate(now)} ‚Üí $${currentBalance.toLocaleString()}`);
      if (history.length > 10) history.pop();

      const historyList = document.getElementById("history");
      historyList.innerHTML = "";
      history.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        historyList.appendChild(li);
      });
    }

    setInterval(update, 1000);
    update();
  </script>
</body>
</html>
